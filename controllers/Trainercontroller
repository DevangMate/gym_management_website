const User =require("../models/user");
var session=require('express-session');


const CreateTrainer=async(req,res)=>{
    //  validate request
     if(!req.body){
        res.status(400).send({message:"content cant be empty"});
        return;
     }
     var MyClient=req.body.Client.split(",");
    //  new user
     const Trainer=new User({
        UserID:req.body.UserID,
        Name:req.body.Name,
        Password:req.body.Password,
        is_admin:0,
        is_trainer:1,
        Client:MyClient,
        email:req.body.email,
        Gender:req.body.Gender,
        Status:req.body.Status
     })
      // @ts-ignore
Trainer.save(Trainer)
 .then(data=>{
    res.redirect('/dashboard/Members/add_Trainer')
 })
 .catch(err=>{
    res.status(500).send({
        message:err.message ||"Some error occured while creating a create Operation"
    });
 })
}



module.exports={
   CreateTrainer,
   
};